## EMQX Minimal Configuration for GhostBridge
## This uses the most basic EMQX configuration syntax

node {
  name = "emqx@127.0.0.1"
  cookie = "ghostbridge_emqx_cluster"
}

listeners {
  tcp {
    default {
      bind = "0.0.0.0:1883"
      max_connections = 10240
    }
  }
  ws {
    default {
      bind = "0.0.0.0:8083"
      mqtt_path = "/mqtt"
      max_connections = 10240
    }
  }
}

dashboard {
  listeners {
    http {
      bind = 18083
    }
  }
  default_username = "admin"
  default_password = "public"
}

authentication = [
  {
    mechanism = password_based
    backend = built_in_database
    user_id_type = username
  }
]

authorization {
  no_match = allow
}

log {
  file_handlers {
    default {
      level = warning
      file = "/var/log/emqx/emqx.log"
    }
  }
}